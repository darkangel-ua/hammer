project hammer.core : requirements <character-set>multi-byte ;

pch stdafx : ../src/stdafx.cpp ../src/stdafx.h ;
explicit stdafx ;

lib hammer.core 
   : 
    stdafx
    hammer_parser
    hammer_lexer
    hammer_walker
    dos_wildcard
    [ glob ../src/*.cpp : stdafx.cpp dos_wildcard.cpp ]
    [ rglob ../src/*.h : stdafx.h ]
    [ rglob ../src/project_generators/*.cpp ]
    /libantlr3c/<version>3.1.1
    /boost/function_types
    /boost/ptr_container
    /boost/filesystem
    /boost/guid
    /boost/regex
    /boost/assign
    /boost/process
    /boost/format
   :
    <include>../src/
    <link>static
   :
   :
    <use>/boost/ptr_container
    <use>/boost/function_types
   ;

obj dos_wildcard 
   :
    ../src/dos_wildcard.cpp
   :
    <use>/boost/regex
   ;

obj hammer_walker 
   : 
    ../src/build/hammer_walker.c
   :
    <use>/libantlr3c/<version>3.1.1 
    <use>/boost/ptr_container 
   ;

obj hammer_parser 
   : 
    ../src/build/hammerParser.c 
   : 
    <cflags>/TP 
    <use>/libantlr3c/<version>3.1.1 
    <use>/boost/ptr_container 
   ;

obj hammer_lexer 
   : 
    ../src/build/hammerLexer.c 
   : 
    <cflags>/TP 
    <use>/libantlr3c/<version>3.1.1 
   ;

explicit hammer_parser ;
explicit hammer_lexer ;
explicit hammer_walker ;
explicit dos_wildcard ;